@using AplicacionBase.Models;
@model PagedList.IPagedList<AplicacionBase.Models.User>
@{
    
    ViewBag.Title = "Búsqueda de Usuarios";
}
<h1>Resultados de la Búsqueda para "@ViewBag.CurrentFilter" </h1> 

<form method="get">
    <fieldset>  
        <div class="editor-field"> 
            Usar otras palabras clave: @Html.TextBox("nameuser", ViewBag.CurrentFilter as string)
            &nbsp<input type="submit" value="Buscar" class="ebutton blue" />   
        </div>         
    </fieldset>
</form>

<table>
    <tr><th>Nombres</th><th>Apellidos</th><th>Dirección</th><th>Celular</th><th>Teléfono</th></tr>
    @if (Model.Count() != 0)
    {
    if (ViewBag.Busqueda != null)
    {
        foreach (var v in Model)
        {  
            <tr class = "head"> 
                <td>    @Html.DisplayFor(modelItem => v.FirstNames)      </td>
                <td>    @Html.DisplayFor(modelItem => v.LastNames)       </td>
                <td>    @Html.DisplayFor(modelItem => v.Address)         </td>
                <td>    @Html.DisplayFor(modelItem => v.CellphoneNumber) </td>
                <td>    @Html.DisplayFor(modelItem => v.PhoneNumber)     </td> 
            </tr>    
        }
    }
    }
</table>
<div></div>
 <div>
    Página @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber)
    de @Model.PageCount  
    @if (Model.HasPreviousPage)
    {
        @Html.ActionLink("<<", "Search", new { nameuser = ViewBag.CurrentFilter, page = 1 })
        @Html.Raw(" ");
        @Html.ActionLink("< Prev", "Search", new { nameuser = ViewBag.CurrentFilter, page = Model.PageNumber - 1 })
    }
    else
    {
        @:<<
        @Html.Raw("   ");
        @:< Prev
    }  
    @if (Model.HasNextPage)
    {
        @Html.ActionLink("Next>", "Search", new { nameuser = ViewBag.CurrentFilter, page = Model.PageNumber + 1 })
        @Html.Raw(" ");
        @Html.ActionLink(">>", "Search", new { nameuser = ViewBag.CurrentFilter, page = Model.PageCount })
     }
    else
    {
        @:Next >
        @Html.Raw(" ")
        @:>>
    }
    </div>
    @if (Model.Count() == 0)
    { 
   <h2>El usuario -@ViewBag.CurrentFilter- no existe</h2> 
    }
<br/>

    <p>    
        @Html.ActionLink("Regresar al Listado", "Index", null, htmlAttributes: new { @class = "ebutton blue" })
    </p>
